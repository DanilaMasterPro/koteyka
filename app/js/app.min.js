document.addEventListener("DOMContentLoaded",(function(){var t=document;t.querySelector(".header-burger").addEventListener("click",(function(e){t.querySelector(".mobile-menu").classList.add("active")})),t.querySelector(".mobile-menu .close").addEventListener("click",(function(e){t.querySelector(".mobile-menu").classList.remove("active")})),t.querySelector(".btn-ask-filter").addEventListener("click",(function(e){e.preventDefault(),t.querySelector(".filter").classList.add("active")})),t.querySelector(".filter .close").addEventListener("click",(function(e){t.querySelector(".filter").classList.remove("active")}));for(var e=document.querySelectorAll(".checkbox-wrapper input"),r=0;r<e.length;r++)e[r].onchange=function(){for(var r=[],i=0;i<e.length;i++)e[i].checked&&(console.log("Чекнтуые есть"),r.push(i),t.querySelector(".btn-reset").classList.add("active"));0==r.length&&t.querySelector(".btn-reset").classList.remove("active")};t.querySelector(".btn-reset").onclick=function(e){e.preventDefault(),t.querySelector("form").reset(),this.classList.remove("active"),l()};const i=[{photo:"images/dest/catalog-img-1.jpg",name:"Эконом",area:.63,equipment:["Пустой"],price:100},{photo:"images/dest/catalog-img-2.jpg",name:"Эконом плюс",size:"90x100x180",area:.9,equipment:["Лежак","Игровой комплекс"],price:200},{photo:"images/dest/catalog-img-3.jpg",name:"Комфорт",size:"100x125x180",area:1.13,equipment:["Лежак","Игровой комплекс","Когтеточка"],price:250},{photo:"images/dest/catalog-img-4.jpg",name:"Сьют",size:"125x125x180",area:1.56,equipment:["Лежак","Игровой комплекс","Когтеточка"],price:350},{photo:"images/dest/catalog-img-5.jpg",name:"Люкс",size:"160x160x180",area:2.56,equipment:["Лежак","Игровой комплекс","Когтеточка","Домик"],price:500},{photo:"images/dest/catalog-img-6.jpg",name:"Супер-Люкс",size:"180x160x180",area:2.88,equipment:["Лежак","Игровой комплекс","Когтеточка","Домик"],price:600}];function a(t){return`\n\n\t  \t<div class="item" data-price="${t.price}" data-area="${t.area}">\n\t\t\t\t\t\t<div class="product">\n\t\t\t\t\t\t\t<div class="product-thumbnail">\n\t\t\t\t\t\t\t\t<img src="${t.photo}" alt="Товар">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-info">\n\t\t\t\t\t\t\t\t<h3>${t.name}</h3>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t${t.size?(e=t.size,`<li><p>Размеры (ШxГxВ) - <span>${e}</span>см</p></li>`):""}\n\t\t\t\t\t\t\t\t\t<li><p>Площадь - <span class="area">${t.area}</span> м2</p></li>\n\t\t\t\t\t\t\t\t\t${t.equipment?function(t){return`<li><p>Оснащение номера <span>${t.map(t=>"Лежак"==t?'<img src="images/dest/equipment2.svg" alt="Лежак">':"Игровой комплекс"==t?'<img src="images/dest/equipment3.svg" alt="Игровой комплекс">':"Когтеточка"==t?'<img src="images/dest/equipment4.svg" alt="Когтеточка">':"Домик"==t?'<img src="images/dest/equipment5.svg" alt="Домик">':"Пустой"==t?'<img src="images/dest/equipment1.svg" alt="Домик">':void 0).join(" ")}</span></p></li>`}(t.equipment):""}\n\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t<li><p>Цена за сутки <span class="price">${t.price}</span>₽</p></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<a href="#" class="btn">Забронировать <i><img src="images/dest/lapa.svg" alt="Лапа кота"></i></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t  `;var e}t.getElementById("resault").innerHTML=""+i.map(a).join("");var n=t.querySelector(".filter form");function l(){var e=n.querySelector("#gap-from").value,r=n.querySelector("#gap-to").value,l=function(){for(var t=document.getElementsByClassName("list-area-checkbox"),e=[],r=0;r<t.length;r++)t[r].checked&&e.push(Number(t[r].name));return e}(),o=function(){for(var t=document.getElementsByClassName("list-equipment-checkbox"),e=[],r=0;r<t.length;r++)t[r].checked&&e.push(t[r].name);return e}();filterProductData=i.slice();for(var c=0;c<filterProductData.length;c++){if((filterProductData[c].price<e||filterProductData[c].price>r)&&(console.log("Товар: "+c+" Не подходит и был грохнут | Не прошел проверку по Цене"),delete filterProductData[c]),filterProductData[c]&&l){console.log("Товар выжыл");for(var s=0;s<l.length;s++){if(Number(filterProductData[c].area)==Number(l[s])){console.log("Товар: "+c+" Подходит и он остается");break}s==l.length-1&&(console.log("Товар: "+c+" Не подходит и был грохнут | Не прошел проверку на площади"),delete filterProductData[c])}}else console.log("Товар"+c+"мертв");if(filterProductData[c]&&o){console.log("Товар выжыл"),console.log(o);for(s=0;s<o.length;s++){if(console.log(filterProductData[c]),!filterProductData[c].equipment||!filterProductData[c].equipment.includes(o[s])){console.log("Товар: "+c+" Не подходит и был грохнут | Не прошел проверку на оснащении"),delete filterProductData[c];break}console.log("Товар: "+c+" Подходит и он остается")}}else console.log("Товар"+c+"мертв")}filterProductData.filter(t=>t).length>=1?t.getElementById("resault").innerHTML=""+filterProductData.map(a).join(""):t.getElementById("resault").innerHTML="<h2>К сожелению таких товаров у нас нет<h2>",t.querySelector(".filter-area .selected").innerHTML='<img src="images/dest/arrow-to-top.svg" class="area-elem-arrow" alt="arrow-to-top">По площади'}n.onsubmit=function(e){e.preventDefault(),l(),t.querySelector(".filter").classList.remove("active")},t.querySelector(".filter-area .selected").onclick=function(){this.parentNode.classList.add("active")};for(var o=document.querySelectorAll(".filter-area .option"),c=0;c<o.length;c++)o[c].onclick=function(){var t=this.getAttribute("data-sort"),e=this.getAttribute("sort-type");сonditionContent=this.innerHTML,this.closest(".filter-area").classList.remove("active"),this.closest(".filter-area").querySelector(".selected").innerHTML=сonditionContent,s(t,e)};function s(t,e){for(var r=document.querySelector("#resault"),i=0;i<r.children.length-1;i++)for(var a=i;a<r.children.length;a++){if("area-low"==t||"price-low"==t){if(+r.children[i].getAttribute(e)>+r.children[a].getAttribute(e))console.log(1),u(r.replaceChild(r.children[a],r.children[i]),r.children[i])}else if("area-big"==t||"price-big"==t){if(+r.children[i].getAttribute(e)<+r.children[a].getAttribute(e))console.log(2),u(r.replaceChild(r.children[a],r.children[i]),r.children[i])}}}function u(t,e){return e.parentNode.insertBefore(t,e.nextSibling)}}));