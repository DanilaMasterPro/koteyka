document.addEventListener("DOMContentLoaded",(function(){var t=document;t.querySelector(".header-burger").addEventListener("click",(function(e){t.querySelector(".mobile-menu").classList.add("active")})),t.querySelector(".mobile-menu .close").addEventListener("click",(function(e){t.querySelector(".mobile-menu").classList.remove("active")})),t.querySelector(".btn-ask-filter").addEventListener("click",(function(e){e.preventDefault(),t.querySelector(".filter").classList.add("active")})),t.querySelector(".filter .close").addEventListener("click",(function(e){t.querySelector(".filter").classList.remove("active")}));for(var e=document.querySelectorAll(".checkbox-wrapper input"),r=t.querySelector("#empty-chechbox"),i=document.getElementsByClassName("list-equipment-checkbox"),a=0;a<e.length;a++)e[a].onchange=function(){var a=[];if(this.hasAttribute("id")){for(var n=0;n<i.length;n++)i[n].checked=!1;this.checked=!0}else r.checked=!1;for(n=0;n<e.length;n++)e[n].checked&&(console.log("Чекнтуые есть"),a.push(n),t.querySelector(".btn-reset").classList.add("active"));0==a.length&&t.querySelector(".btn-reset").classList.remove("active")};t.querySelector(".btn-reset").onclick=function(e){e.preventDefault(),t.querySelector("form").reset(),this.classList.remove("active"),o()};const n=[{photo:"images/dest/catalog-img-1.jpg",name:"Эконом",area:.63,equipment:["Пустой"],price:100},{photo:"images/dest/catalog-img-2.jpg",name:"Эконом плюс",size:"90x100x180",area:.9,equipment:["Лежак","Игровой комплекс"],price:200},{photo:"images/dest/catalog-img-3.jpg",name:"Комфорт",size:"100x125x180",area:1.13,equipment:["Лежак","Игровой комплекс","Когтеточка"],price:250},{photo:"images/dest/catalog-img-4.jpg",name:"Сьют",size:"125x125x180",area:1.56,equipment:["Лежак","Игровой комплекс","Когтеточка"],price:350},{photo:"images/dest/catalog-img-5.jpg",name:"Люкс",size:"160x160x180",area:2.56,equipment:["Лежак","Игровой комплекс","Когтеточка","Домик"],price:500},{photo:"images/dest/catalog-img-6.jpg",name:"Супер-Люкс",size:"180x160x180",area:2.88,equipment:["Лежак","Игровой комплекс","Когтеточка","Домик"],price:600}];function l(t){return`\n\n\t  \t<div class="item" data-price="${t.price}" data-area="${t.area}">\n\t\t\t\t\t\t<div class="product">\n\t\t\t\t\t\t\t<div class="product-thumbnail">\n\t\t\t\t\t\t\t\t<img src="${t.photo}" alt="Товар">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-info">\n\t\t\t\t\t\t\t\t<h3>${t.name}</h3>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t${t.size?(e=t.size,`<li><p>Размеры (ШxГxВ) - <span>${e}</span>см</p></li>`):""}\n\t\t\t\t\t\t\t\t\t<li><p>Площадь - <span class="area">${t.area}</span> м2</p></li>\n\t\t\t\t\t\t\t\t\t${t.equipment?function(t){return`<li><p>Оснащение номера <span>${t.map(t=>"Лежак"==t?'<img src="images/dest/equipment2.svg" alt="Лежак">':"Игровой комплекс"==t?'<img src="images/dest/equipment3.svg" alt="Игровой комплекс">':"Когтеточка"==t?'<img src="images/dest/equipment4.svg" alt="Когтеточка">':"Домик"==t?'<img src="images/dest/equipment5.svg" alt="Домик">':"Пустой"==t?'<img src="images/dest/equipment1.svg" alt="Домик">':void 0).join(" ")}</span></p></li>`}(t.equipment):""}\n\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t<li><p>Цена за сутки <span class="price">${t.price}</span>₽</p></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<a href="#" class="btn">Забронировать <i><img src="images/dest/lapa.svg" alt="Лапа кота"></i></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t  `;var e}t.getElementById("resault").innerHTML=""+n.map(l).join("");var c=t.querySelector(".filter form");function o(){var e=c.querySelector("#gap-from").value,r=c.querySelector("#gap-to").value,i=function(){for(var t=document.getElementsByClassName("list-area-checkbox"),e=[],r=0;r<t.length;r++)t[r].checked&&e.push(Number(t[r].name));return e}(),a=function(){for(var t=document.getElementsByClassName("list-equipment-checkbox"),e=[],r=0;r<t.length;r++)t[r].checked&&e.push(t[r].name);return e}();filterProductData=n.slice();for(var o=0;o<filterProductData.length;o++){if((filterProductData[o].price<e||filterProductData[o].price>r)&&(console.log("Товар: "+o+" Не подходит и был грохнут | Не прошел проверку по Цене"),delete filterProductData[o]),filterProductData[o]&&i){console.log("Товар выжыл");for(var s=0;s<i.length;s++){if(Number(filterProductData[o].area)==Number(i[s])){console.log("Товар: "+o+" Подходит и он остается");break}s==i.length-1&&(console.log("Товар: "+o+" Не подходит и был грохнут | Не прошел проверку на площади"),delete filterProductData[o])}}else console.log("Товар"+o+"мертв");if(filterProductData[o]&&a){console.log("Товар выжыл"),console.log(a);for(s=0;s<a.length;s++){if(console.log(filterProductData[o]),!filterProductData[o].equipment||!filterProductData[o].equipment.includes(a[s])){console.log("Товар: "+o+" Не подходит и был грохнут | Не прошел проверку на оснащении"),delete filterProductData[o];break}console.log("Товар: "+o+" Подходит и он остается")}}else console.log("Товар"+o+"мертв")}filterProductData.filter(t=>t).length>=1?t.getElementById("resault").innerHTML=""+filterProductData.map(l).join(""):t.getElementById("resault").innerHTML="<h2>К сожелению таких товаров у нас нет<h2>",t.querySelector(".filter-area .selected").innerHTML='<img src="images/dest/arrow-to-top.svg" class="area-elem-arrow" alt="arrow-to-top">По площади'}c.onsubmit=function(e){e.preventDefault(),o(),t.querySelector(".filter").classList.remove("active")},t.querySelector(".filter-area .selected").onclick=function(){this.parentNode.classList.add("active")};for(var s=document.querySelectorAll(".filter-area .option"),u=0;u<s.length;u++)s[u].onclick=function(){var t=this.getAttribute("data-sort"),e=this.getAttribute("data-sort-type");сonditionContent=this.innerHTML,this.closest(".filter-area").classList.remove("active"),this.closest(".filter-area").querySelector(".selected").innerHTML=сonditionContent,d(t,e)};function d(t,e){for(var r=document.querySelector("#resault"),i=0;i<r.children.length-1;i++)for(var a=i;a<r.children.length;a++){if("area-low"==t||"price-low"==t){if(+r.children[i].getAttribute(e)>+r.children[a].getAttribute(e))console.log(1),m(r.replaceChild(r.children[a],r.children[i]),r.children[i])}else if("area-big"==t||"price-big"==t){if(+r.children[i].getAttribute(e)<+r.children[a].getAttribute(e))console.log(2),m(r.replaceChild(r.children[a],r.children[i]),r.children[i])}}}function m(t,e){return e.parentNode.insertBefore(t,e.nextSibling)}}));